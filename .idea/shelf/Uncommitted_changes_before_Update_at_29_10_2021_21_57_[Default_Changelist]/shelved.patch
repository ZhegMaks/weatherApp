Index: app/src/main/java/com/example/weatherapp/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.weatherapp;\r\n\r\nimport static java.lang.Thread.sleep;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.EditText;\r\n\r\nimport com.google.gson.Gson;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.io.IOException;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button getWeather;\r\n    TextView weatherText;\r\n    EditText inputText;\r\n    final String TOKEN = \"d0c9e3981e4edccd73674040df860214\"; // токен API openweathermap.org\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        getWeather = findViewById(R.id.getWButton); // Кнопка получения погоды\r\n        weatherText = findViewById(R.id.weather); // Текст, который изменяется для вывода погоды\r\n        inputText = findViewById(R.id.editcity); // Текст из поля\r\n\r\n        Runnable json_parse = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    String inputString = inputText.getText().toString();\r\n                    String url = String.format(\"https://api.openweathermap.org/data/2.5/weather?q=%s&appid=%s\", inputString, TOKEN); // в аргументах указываем введенный город и токен\r\n                    URL obj = new URL(url);\r\n                    HttpURLConnection connection = (HttpURLConnection) obj.openConnection();\r\n                    connection.setRequestMethod(\"POST\");\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                    String inputLine;\r\n                    StringBuffer response = new StringBuffer();\r\n                    while ((inputLine = in.readLine()) != null) {\r\n                        response.append(inputLine);\r\n                    }\r\n                    in.close();\r\n                    Gson gson = new Gson();\r\n                    getFields fields = gson.fromJson(String.valueOf(response), getFields.class);\r\n                    System.out.println(response);\r\n                    Float temp = Float.valueOf(fields.main.getTemp()) - 273.15f; // Кельвины -> Цельсии\r\n                    if (inputString.isEmpty()) {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                weatherText.setText(\"Введи город!\");\r\n                            }\r\n                        });\r\n                        // sleep(100);\r\n                    } else {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                String cloudsText = \"\";\r\n                                int clouds = Integer.valueOf(fields.clouds.getClouds());\r\n                                if(clouds < 10) {\r\n                                    cloudsText = \"Безоблачно\";\r\n                                }\r\n                                else if(clouds < 40 ) { // Если облачность меньше 40 %\r\n                                    cloudsText = \"Слабая облачность\";\r\n                                }\r\n                                else if(clouds < 70) {\r\n                                    cloudsText = \"Средняя облачность\";\r\n                                }\r\n                                else if(clouds > 70) {\r\n                                    cloudsText = \"Пасмурно\";\r\n                                }\r\n                                weatherText.setText(\"Погода в городе \" + inputString + \" \" + String.format(\"%.0f\", temp) + \"°C\" + \"\\nВлажность воздуха: \" + fields.main.getHumidity() + \"%\\n\" + cloudsText);\r\n                            }\r\n                        });\r\n                    }\r\n                } catch (IOException | NullPointerException e) {\r\n                    e.printStackTrace();\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            weatherText.setText(\"Возможно, введенный город неверный \");\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        getWeather.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Thread t1 = new Thread(json_parse);\r\n                t1.start();\r\n            }\r\n        });\r\n    }\r\n\r\n    public class getFields {\r\n        private fields main;\r\n        private fields clouds;\r\n    }\r\n\r\n    public class fields {\r\n        private String temp; // Температура воздуха\r\n        private String humidity; // Влажность\r\n        private String all; // Облачность\r\n\r\n        private String getTemp() {\r\n            return temp;\r\n        }\r\n\r\n        public String getHumidity() {\r\n            return humidity;\r\n        }\r\n\r\n        private String getClouds() {\r\n            return all;\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/weatherapp/MainActivity.java b/app/src/main/java/com/example/weatherapp/MainActivity.java
--- a/app/src/main/java/com/example/weatherapp/MainActivity.java	(revision 32a0158739a686674aeba01a5ecdcf273bb24bab)
+++ b/app/src/main/java/com/example/weatherapp/MainActivity.java	(date 1635533840843)
@@ -22,7 +22,7 @@
     Button getWeather;
     TextView weatherText;
     EditText inputText;
-    final String TOKEN = "d0c9e3981e4edccd73674040df860214"; // токен API openweathermap.org
+    final String TOKEN = ""; // токен API openweathermap.org
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
